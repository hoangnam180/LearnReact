{
    "sourceFile": "src/features/Product/pages/ListPage.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 114,
            "patches": [
                {
                    "date": 1645709333335,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1645709574104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,8 +47,13 @@\n             return {...prevState, _sort: newValue};\n         });\n     }\n     \n+    const handleFilterChange = (newFillter) => {\n+        setFillter((prevState) => {\n+            return {...prevState, ...newFillter};\n+        });\n+    }\n     const handleCount = () => {\n         if(pagination.total && pagination.limit){\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n@@ -56,9 +61,9 @@\n     const count = handleCount() || 1;\n \n     return (  \n             <Row>\n-                <Col className=\"left_product\"><ProductFilter/></Col>\n+                <Col className=\"left_product\"><ProductFilter fillter={fillter} handleFilterChange={handleFilterChange}/></Col>\n                 <Col className=\"right_product\">\n                     <h3 style={{paddingLeft:'20px'}}>Sắp Xếp Theo</h3>\n                     <Tabs currentSort={fillter._sort} onChange={handleSortChange}/>\n                     {loading ?  <ProductSkeletonList /> : <ProductList productsList={productsList}  />} \n"
                },
                {
                    "date": 1645720305472,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,9 +58,9 @@\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n     }\n     const count = handleCount() || 1;\n-\n+    console.log(productsList);\n     return (  \n             <Row>\n                 <Col className=\"left_product\"><ProductFilter fillter={fillter} handleFilterChange={handleFilterChange}/></Col>\n                 <Col className=\"right_product\">\n"
                },
                {
                    "date": 1645886799487,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,9 +58,8 @@\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n     }\n     const count = handleCount() || 1;\n-    console.log(productsList);\n     return (  \n             <Row>\n                 <Col className=\"left_product\"><ProductFilter fillter={fillter} handleFilterChange={handleFilterChange}/></Col>\n                 <Col className=\"right_product\">\n"
                },
                {
                    "date": 1645887908705,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,8 @@\n import ProductList from '../compennents/ProductList/ProductList';\n import ProductSkeletonList from \"../compennents/ProductSkeletonLists/ProductSkeletonList\";\n import './ListPage.scss';\n import Pagination from \"../compennents/Pagination/Pagination\";\n-import Tabss from \"../compennents/Tabs/Tabs\";\n import Tabs from \"../compennents/Tabs/Tabs\";\n import ProductFilter from \"../compennents/ProductFilter/ProductFilter\";\n \n const ListPage = () => {\n"
                },
                {
                    "date": 1646151279541,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,18 +6,20 @@\n import './ListPage.scss';\n import Pagination from \"../compennents/Pagination/Pagination\";\n import Tabs from \"../compennents/Tabs/Tabs\";\n import ProductFilter from \"../compennents/ProductFilter/ProductFilter\";\n+import FilterViewer from \"../compennents/FilTers/FilterViewer\";\n \n const ListPage = () => {\n     const [productsList, setProductsList] = useState([]);\n     const [loading, setLoading] = useState(true);\n-    const [fillter, setFillter] = useState({_page:1, _limit:20, _sort:\"salePrice:ASC\"});\n+    const [fillter, setFillter] = useState({_page:1, _limit:15, _sort:\"salePrice:ASC\"});\n     const [pagination, setPagination] = useState({\n         page:1,\n-        limit:20,\n+        limit:15,\n         total:0,\n     });\n+\n     useEffect(() => {\n         (async () => {\n             try{\n                 const response = await products.getAll(fillter);\n@@ -59,17 +61,18 @@\n     }\n     const count = handleCount() || 1;\n     return (  \n             <Row>\n-                <Col className=\"left_product\"><ProductFilter fillter={fillter} handleFilterChange={handleFilterChange}/></Col>\n+                <Col className=\"left_product\"><ProductFilter  fillter={fillter} handleFilterChange={handleFilterChange}/></Col>\n                 <Col className=\"right_product\">\n                     <h3 style={{paddingLeft:'20px'}}>Sắp Xếp Theo</h3>\n                     <Tabs currentSort={fillter._sort} onChange={handleSortChange}/>\n+                    <FilterViewer filters={fillter} onChange={setFillter}/>\n                     {loading ?  <ProductSkeletonList /> : <ProductList productsList={productsList}  />} \n                     <Pagination count={count} page={pagination.page} onPageChange={handlePageChange}\n                     />\n                 </Col>\n             </Row>           \n     );\n }\n\\ No newline at end of file\n  \n-export default ListPage;\n+export default ListPage;\n"
                },
                {
                    "date": 1646151309131,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,12 +11,12 @@\n \n const ListPage = () => {\n     const [productsList, setProductsList] = useState([]);\n     const [loading, setLoading] = useState(true);\n-    const [fillter, setFillter] = useState({_page:1, _limit:15, _sort:\"salePrice:ASC\"});\n+    const [fillter, setFillter] = useState({_page:1, _limit:16, _sort:\"salePrice:ASC\"});\n     const [pagination, setPagination] = useState({\n         page:1,\n-        limit:15,\n+        limit:16,\n         total:0,\n     });\n \n     useEffect(() => {\n@@ -74,5 +74,5 @@\n             </Row>           \n     );\n }\n  \n-export default ListPage;\n\\ No newline at end of file\n+export default ListPage;\n"
                },
                {
                    "date": 1646152380566,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import { Col, Row } from \"reactstrap\";\n-import {useEffect, useRef, useState} from 'react';\n+import {useEffect, useState} from 'react';\n+import queryString from 'query-string';\n import products from '../../../API/products';\n import ProductList from '../compennents/ProductList/ProductList';\n import ProductSkeletonList from \"../compennents/ProductSkeletonLists/ProductSkeletonList\";\n import './ListPage.scss';\n"
                },
                {
                    "date": 1646152886192,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,8 +8,9 @@\n import Pagination from \"../compennents/Pagination/Pagination\";\n import Tabs from \"../compennents/Tabs/Tabs\";\n import ProductFilter from \"../compennents/ProductFilter/ProductFilter\";\n import FilterViewer from \"../compennents/FilTers/FilterViewer\";\n+import { useNavigate } from \"react-router-dom\";\n \n const ListPage = () => {\n     const [productsList, setProductsList] = useState([]);\n     const [loading, setLoading] = useState(true);\n@@ -32,8 +33,13 @@\n             setLoading(false);\n         })();\n     },[fillter]);\n \n+    const navagation =  useNavigate()\n+    useEffect(() => {\n+        const query = queryString.parse(window.location.search);\n+        navagation(`/products?${queryString.stringify(query)}`);\n+    }, [fillter]);\n     const handlePageChange = (page) => {\n             window.scrollTo({\n                 top: 0,\n                 left: 0,\n"
                },
                {
                    "date": 1646152919962,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,10 +35,9 @@\n     },[fillter]);\n \n     const navagation =  useNavigate()\n     useEffect(() => {\n-        const query = queryString.parse(window.location.search);\n-        navagation(`/products?${queryString.stringify(query)}`);\n+        navagation(`/products?${queryString.stringify(fillter)}`);\n     }, [fillter]);\n     const handlePageChange = (page) => {\n             window.scrollTo({\n                 top: 0,\n"
                },
                {
                    "date": 1646153105822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,9 @@\n     },[fillter]);\n \n     const navagation =  useNavigate()\n     useEffect(() => {\n-        navagation(`/products?${queryString.stringify(fillter)}`);\n+        navagation(`${navagation.location.pathname}?${queryString.stringify(fillter)}`);\n     }, [fillter]);\n     const handlePageChange = (page) => {\n             window.scrollTo({\n                 top: 0,\n"
                },
                {
                    "date": 1646153141321,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,9 @@\n     },[fillter]);\n \n     const navagation =  useNavigate()\n     useEffect(() => {\n-        navagation(`${navagation.location.pathname}?${queryString.stringify(fillter)}`);\n+        navagation(`${window.location}?${queryString.stringify(fillter)}`);\n     }, [fillter]);\n     const handlePageChange = (page) => {\n             window.scrollTo({\n                 top: 0,\n"
                },
                {
                    "date": 1646153172564,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,9 @@\n     },[fillter]);\n \n     const navagation =  useNavigate()\n     useEffect(() => {\n-        navagation(`${window.location}?${queryString.stringify(fillter)}`);\n+        navagation(`/products?${queryString.stringify(fillter)}`);\n     }, [fillter]);\n     const handlePageChange = (page) => {\n             window.scrollTo({\n                 top: 0,\n"
                },
                {
                    "date": 1646153353402,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,8 +10,9 @@\n import ProductFilter from \"../compennents/ProductFilter/ProductFilter\";\n import FilterViewer from \"../compennents/FilTers/FilterViewer\";\n import { useNavigate } from \"react-router-dom\";\n \n+\n const ListPage = () => {\n     const [productsList, setProductsList] = useState([]);\n     const [loading, setLoading] = useState(true);\n     const [fillter, setFillter] = useState({_page:1, _limit:16, _sort:\"salePrice:ASC\"});\n@@ -36,9 +37,9 @@\n \n     const navagation =  useNavigate()\n     useEffect(() => {\n         navagation(`/products?${queryString.stringify(fillter)}`);\n-    }, [fillter]);\n+    }, [navagation,fillter]);\n     const handlePageChange = (page) => {\n             window.scrollTo({\n                 top: 0,\n                 left: 0,\n"
                },
                {
                    "date": 1646153388860,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,9 +36,10 @@\n     },[fillter]);\n \n     const navagation =  useNavigate()\n     useEffect(() => {\n-        navagation(`/products?${queryString.stringify(fillter)}`);\n+        const query = queryString.parse(window.location.search);\n+        navagation(`/products?${query}`);\n     }, [navagation,fillter]);\n     const handlePageChange = (page) => {\n             window.scrollTo({\n                 top: 0,\n"
                },
                {
                    "date": 1646153398006,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,9 +36,9 @@\n     },[fillter]);\n \n     const navagation =  useNavigate()\n     useEffect(() => {\n-        const query = queryString.parse(window.location.search);\n+        const query = queryString.stringify(fillter)\n         navagation(`/products?${query}`);\n     }, [navagation,fillter]);\n     const handlePageChange = (page) => {\n             window.scrollTo({\n"
                },
                {
                    "date": 1646153614619,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,9 @@\n import Pagination from \"../compennents/Pagination/Pagination\";\n import Tabs from \"../compennents/Tabs/Tabs\";\n import ProductFilter from \"../compennents/ProductFilter/ProductFilter\";\n import FilterViewer from \"../compennents/FilTers/FilterViewer\";\n-import { useNavigate } from \"react-router-dom\";\n+import { useLocation, useNavigate } from \"react-router-dom\";\n \n \n const ListPage = () => {\n     const [productsList, setProductsList] = useState([]);\n@@ -35,12 +35,15 @@\n         })();\n     },[fillter]);\n \n     const navagation =  useNavigate()\n+    const location = useLocation();\n+    const queryParams = queryParams.parse(location.search);\n     useEffect(() => {\n         const query = queryString.stringify(fillter)\n         navagation(`/products?${query}`);\n     }, [navagation,fillter]);\n+\n     const handlePageChange = (page) => {\n             window.scrollTo({\n                 top: 0,\n                 left: 0,\n"
                },
                {
                    "date": 1646153621490,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -37,8 +37,9 @@\n \n     const navagation =  useNavigate()\n     const location = useLocation();\n     const queryParams = queryParams.parse(location.search);\n+    console.log(queryParams);\n     useEffect(() => {\n         const query = queryString.stringify(fillter)\n         navagation(`/products?${query}`);\n     }, [navagation,fillter]);\n"
                },
                {
                    "date": 1646153631406,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,11 +35,11 @@\n         })();\n     },[fillter]);\n \n     const navagation =  useNavigate()\n-    const location = useLocation();\n-    const queryParams = queryParams.parse(location.search);\n-    console.log(queryParams);\n+    // const location = useLocation();\n+    // const queryParams = queryParams.parse(location.search);\n+    // console.log(queryParams);\n     useEffect(() => {\n         const query = queryString.stringify(fillter)\n         navagation(`/products?${query}`);\n     }, [navagation,fillter]);\n"
                },
                {
                    "date": 1646153653181,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,10 +35,10 @@\n         })();\n     },[fillter]);\n \n     const navagation =  useNavigate()\n-    // const location = useLocation();\n-    // const queryParams = queryParams.parse(location.search);\n+    const location = useLocation();\n+    const queryParams = queryString.parse(location.search);\n     // console.log(queryParams);\n     useEffect(() => {\n         const query = queryString.stringify(fillter)\n         navagation(`/products?${query}`);\n"
                },
                {
                    "date": 1646154069242,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,19 @@\n \n const ListPage = () => {\n     const [productsList, setProductsList] = useState([]);\n     const [loading, setLoading] = useState(true);\n-    const [fillter, setFillter] = useState({_page:1, _limit:16, _sort:\"salePrice:ASC\"});\n+    const navagation =  useNavigate()\n+    const location = useLocation();\n+    const queryParams = queryString.parse(location.search);\n+    \n+    const [fillter, setFillter] = useState(() =>({\n+        ...queryParams,\n+        _page:queryParams._page || 1,\n+        _limit: queryParams._limit || 16,\n+        _sort:queryParams._sort || \"salePrice:ASC\"\n+        \n+    }));\n     const [pagination, setPagination] = useState({\n         page:1,\n         limit:16,\n         total:0,\n@@ -34,12 +44,8 @@\n             setLoading(false);\n         })();\n     },[fillter]);\n \n-    const navagation =  useNavigate()\n-    const location = useLocation();\n-    const queryParams = queryString.parse(location.search);\n-    // console.log(queryParams);\n     useEffect(() => {\n         const query = queryString.stringify(fillter)\n         navagation(`/products?${query}`);\n     }, [navagation,fillter]);\n"
                },
                {
                    "date": 1646154138508,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,10 +20,10 @@\n     const queryParams = queryString.parse(location.search);\n     \n     const [fillter, setFillter] = useState(() =>({\n         ...queryParams,\n-        _page:queryParams._page || 1,\n-        _limit: queryParams._limit || 16,\n+        _page:Number.parseInt(queryParams._page) || 1,\n+        _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\"\n         \n     }));\n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646154306383,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,10 +45,9 @@\n         })();\n     },[fillter]);\n \n     useEffect(() => {\n-        const query = queryString.stringify(fillter)\n-        navagation(`/products?${query}`);\n+        navagation(`/products?${queryString.stringify(fillter)}`);\n     }, [navagation,fillter]);\n \n     const handlePageChange = (page) => {\n             window.scrollTo({\n"
                },
                {
                    "date": 1646154311827,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,9 @@\n     },[fillter]);\n \n     useEffect(() => {\n         navagation(`/products?${queryString.stringify(fillter)}`);\n-    }, [navagation,fillter]);\n+    }, [fillter]);\n \n     const handlePageChange = (page) => {\n             window.scrollTo({\n                 top: 0,\n"
                },
                {
                    "date": 1646154477655,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,10 @@\n     const [fillter, setFillter] = useState(() =>({\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n-        _sort:queryParams._sort || \"salePrice:ASC\"\n+        _sort:queryParams._sort || \"salePrice:ASC\",\n+        'category.id': Number.parseInt(queryParams.categoryId) || null\n         \n     }));\n     const [pagination, setPagination] = useState({\n         page:1,\n"
                },
                {
                    "date": 1646154666494,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,9 @@\n         })();\n     },[fillter]);\n \n     useEffect(() => {\n-        navagation(`/products?${queryString.stringify(fillter)}`);\n+        navagation(`/${location.pathname}?${queryString.stringify(fillter)}`);\n     }, [fillter]);\n \n     const handlePageChange = (page) => {\n             window.scrollTo({\n"
                },
                {
                    "date": 1646154702257,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,8 +46,9 @@\n         })();\n     },[fillter]);\n \n     useEffect(() => {\n+        console.log('fillter', fillter);\n         navagation(`/${location.pathname}?${queryString.stringify(fillter)}`);\n     }, [fillter]);\n \n     const handlePageChange = (page) => {\n"
                },
                {
                    "date": 1646154722166,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,10 +46,9 @@\n         })();\n     },[fillter]);\n \n     useEffect(() => {\n-        console.log('fillter', fillter);\n-        navagation(`/${location.pathname}?${queryString.stringify(fillter)}`);\n+        navagation(`/products?${queryString.stringify(fillter)}`);\n     }, [fillter]);\n \n     const handlePageChange = (page) => {\n             window.scrollTo({\n"
                },
                {
                    "date": 1646154780375,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        'category.id': Number.parseInt(queryParams.categoryId) || null\n+        'category.id': Number.parseInt(queryParams['category.id']) || null,\n         \n     }));\n     const [pagination, setPagination] = useState({\n         page:1,\n"
                },
                {
                    "date": 1646154868240,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        'category.id': Number.parseInt(queryParams['category.id']) || null,\n+        // 'category.id': Number.parseInt(queryParams['category.id']) || null,\n         \n     }));\n     const [pagination, setPagination] = useState({\n         page:1,\n"
                },
                {
                    "date": 1646154931500,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,8 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        // 'category.id': Number.parseInt(queryParams['category.id']) || null,\n         \n     }));\n     const [pagination, setPagination] = useState({\n         page:1,\n"
                },
                {
                    "date": 1646155004160,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,8 +25,9 @@\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n         \n     }));\n+    console.log(fillter);\n     const [pagination, setPagination] = useState({\n         page:1,\n         limit:16,\n         total:0,\n"
                },
                {
                    "date": 1646155113331,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,8 +23,9 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n+        'category.id': Number.parseInt(queryParams['category.id'] ) || null,\n         \n     }));\n     console.log(fillter);\n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646155171831,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        'category.id': Number.parseInt(queryParams['category.id'] ) || null,\n+        'category.id': queryParams['category.id'] || '',\n         \n     }));\n     console.log(fillter);\n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646155225763,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        'category.id': queryParams['category.id'] || '',\n+        'category.id': queryParams['category.id'] || 1,\n         \n     }));\n     console.log(fillter);\n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646155268177,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        'category.id': queryParams['category.id'] || 1,\n+        'category.id':Number.parseInt(queryParams['category.id']) || 1,\n         \n     }));\n     console.log(fillter);\n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646155311147,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        'category.id':Number.parseInt(queryParams['category.id']) || 1,\n+        // 'category.id':Number.parseInt(queryParams['category.id']) || 1,\n         \n     }));\n     console.log(fillter);\n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646155355820,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n         _sort:queryParams._sort || \"salePrice:ASC\",\n         // 'category.id':Number.parseInt(queryParams['category.id']) || 1,\n         \n     }));\n-    console.log(fillter);\n+    console.log(fillter.category.id);\n     const [pagination, setPagination] = useState({\n         page:1,\n         limit:16,\n         total:0,\n"
                },
                {
                    "date": 1646155406886,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n         _sort:queryParams._sort || \"salePrice:ASC\",\n         // 'category.id':Number.parseInt(queryParams['category.id']) || 1,\n         \n     }));\n-    console.log(fillter.category.id);\n+    console.log(fillter['category.id']);\n     const [pagination, setPagination] = useState({\n         page:1,\n         limit:16,\n         total:0,\n"
                },
                {
                    "date": 1646155422605,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n         _sort:queryParams._sort || \"salePrice:ASC\",\n         // 'category.id':Number.parseInt(queryParams['category.id']) || 1,\n         \n     }));\n-    console.log(fillter['category.id']);\n+    // console.log(fillter['category.id']);\n     const [pagination, setPagination] = useState({\n         page:1,\n         limit:16,\n         total:0,\n"
                },
                {
                    "date": 1646155485721,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,8 +27,9 @@\n         // 'category.id':Number.parseInt(queryParams['category.id']) || 1,\n         \n     }));\n     // console.log(fillter['category.id']);\n+    console.log(fillter)\n     const [pagination, setPagination] = useState({\n         page:1,\n         limit:16,\n         total:0,\n"
                },
                {
                    "date": 1646155546953,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n         // 'category.id':Number.parseInt(queryParams['category.id']) || 1,\n         \n     }));\n     // console.log(fillter['category.id']);\n-    console.log(fillter)\n+    console.log(fillter['category.id'])\n     const [pagination, setPagination] = useState({\n         page:1,\n         limit:16,\n         total:0,\n"
                },
                {
                    "date": 1646155611988,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,13 +23,12 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        // 'category.id':Number.parseInt(queryParams['category.id']) || 1,\n+        'category.id' :Number.parseInt(fillter['category.id']) || 1,\n         \n     }));\n-    // console.log(fillter['category.id']);\n-    console.log(fillter['category.id'])\n+\n     const [pagination, setPagination] = useState({\n         page:1,\n         limit:16,\n         total:0,\n"
                },
                {
                    "date": 1646155629596,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        'category.id' :Number.parseInt(fillter['category.id']) || 1,\n+        'category.id' :Number.parseInt(queryParams['category.id']) || 1,\n         \n     }));\n \n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646155648917,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        'category.id' :Number.parseInt(queryParams['category.id']) || 1,\n+        // 'category.id' :Number.parseInt(queryParams['category.id']) || 1,\n         \n     }));\n \n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646155824461,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        // 'category.id' :Number.parseInt(queryParams['category.id']) || 1,\n+        'category.id' :Number.parseInt(Object.keys(queryParams).includes('category.id')) || 1,\n         \n     }));\n \n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646155976547,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,12 +23,12 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        'category.id' :Number.parseInt(Object.keys(queryParams).includes('category.id')) || 1,\n+        'category.id': Number.parseInt(queryParams['category.id'] ) || null,\n         \n     }));\n-\n+    console.log(fillter);\n     const [pagination, setPagination] = useState({\n         page:1,\n         limit:16,\n         total:0,\n"
                },
                {
                    "date": 1646155998223,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        'category.id': Number.parseInt(queryParams['category.id'] ) || null,\n+        'category.id':  queryParams['category.id'] || ''\n         \n     }));\n     console.log(fillter);\n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646156016537,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,12 +23,11 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        'category.id':  queryParams['category.id'] || ''\n+        'category.id': Number.parseInt(queryParams['category.id']) || null,\n         \n     }));\n-    console.log(fillter);\n     const [pagination, setPagination] = useState({\n         page:1,\n         limit:16,\n         total:0,\n"
                },
                {
                    "date": 1646156050298,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        'category.id': Number.parseInt(queryParams['category.id']) || null,\n+        'category.id': queryParams['category.id'] \n         \n     }));\n     const [pagination, setPagination] = useState({\n         page:1,\n"
                },
                {
                    "date": 1646156092669,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,8 +32,9 @@\n         limit:16,\n         total:0,\n     });\n \n+    console.log(queryParams['category.id'] )\n     useEffect(() => {\n         (async () => {\n             try{\n                 const response = await products.getAll(fillter);\n"
                },
                {
                    "date": 1646156099485,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        'category.id': queryParams['category.id'] \n+        // 'category.id': queryParams['category.id'] \n         \n     }));\n     const [pagination, setPagination] = useState({\n         page:1,\n"
                },
                {
                    "date": 1646156152439,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n         limit:16,\n         total:0,\n     });\n \n-    console.log(queryParams['category.id'] )\n+    console.log(Number.parseInt(queryParams['category.id'] ));\n     useEffect(() => {\n         (async () => {\n             try{\n                 const response = await products.getAll(fillter);\n"
                },
                {
                    "date": 1646156218730,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,18 +23,18 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        // 'category.id': queryParams['category.id'] \n+        'category.id': Number.parseInt(queryParams['category.id'] || null)\n         \n     }));\n     const [pagination, setPagination] = useState({\n         page:1,\n         limit:16,\n         total:0,\n     });\n \n-    console.log(Number.parseInt(queryParams['category.id'] ));\n+\n     useEffect(() => {\n         (async () => {\n             try{\n                 const response = await products.getAll(fillter);\n"
                },
                {
                    "date": 1646157047204,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        'category.id': Number.parseInt(queryParams['category.id'] || null)\n+        // 'category.id': Number.parseInt(queryParams['category.id'] || null)\n         \n     }));\n     const [pagination, setPagination] = useState({\n         page:1,\n"
                },
                {
                    "date": 1646157059972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,8 @@\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n         _sort:queryParams._sort || \"salePrice:ASC\",\n-        // 'category.id': Number.parseInt(queryParams['category.id'] || null)\n         \n     }));\n     const [pagination, setPagination] = useState({\n         page:1,\n"
                },
                {
                    "date": 1646157900388,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,11 +77,14 @@\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n     }\n     const count = handleCount() || 1;\n+    const getLabelCategories = (category) => {\n+        console.log(category);\n+    }\n     return (  \n             <Row>\n-                <Col className=\"left_product\"><ProductFilter  fillter={fillter} handleFilterChange={handleFilterChange}/></Col>\n+                <Col className=\"left_product\"><ProductFilter getCategory={getLabelCategories}  fillter={fillter} handleFilterChange={handleFilterChange}/></Col>\n                 <Col className=\"right_product\">\n                     <h3 style={{paddingLeft:'20px'}}>Sắp Xếp Theo</h3>\n                     <Tabs currentSort={fillter._sort} onChange={handleSortChange}/>\n                     <FilterViewer filters={fillter} onChange={setFillter}/>\n"
                },
                {
                    "date": 1646158131070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n     const [loading, setLoading] = useState(true);\n     const navagation =  useNavigate()\n     const location = useLocation();\n     const queryParams = queryString.parse(location.search);\n-    \n+    let CategoryObj = {};\n     const [fillter, setFillter] = useState(() =>({\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n@@ -78,10 +78,11 @@\n         }\n     }\n     const count = handleCount() || 1;\n     const getLabelCategories = (category) => {\n-        console.log(category);\n+        CategoryObj = category;\n     }\n+    console.log(CategoryObj);\n     return (  \n             <Row>\n                 <Col className=\"left_product\"><ProductFilter getCategory={getLabelCategories}  fillter={fillter} handleFilterChange={handleFilterChange}/></Col>\n                 <Col className=\"right_product\">\n"
                },
                {
                    "date": 1646158184478,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n     const [loading, setLoading] = useState(true);\n     const navagation =  useNavigate()\n     const location = useLocation();\n     const queryParams = queryString.parse(location.search);\n-    let CategoryObj = {};\n+    const [categoryObj,setCategory] = useState({});\n     const [fillter, setFillter] = useState(() =>({\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n@@ -80,9 +80,9 @@\n     const count = handleCount() || 1;\n     const getLabelCategories = (category) => {\n         CategoryObj = category;\n     }\n-    console.log(CategoryObj);\n+\n     return (  \n             <Row>\n                 <Col className=\"left_product\"><ProductFilter getCategory={getLabelCategories}  fillter={fillter} handleFilterChange={handleFilterChange}/></Col>\n                 <Col className=\"right_product\">\n"
                },
                {
                    "date": 1646158203190,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,9 +78,9 @@\n         }\n     }\n     const count = handleCount() || 1;\n     const getLabelCategories = (category) => {\n-        CategoryObj = category;\n+        setCategory(category);\n     }\n \n     return (  \n             <Row>\n"
                },
                {
                    "date": 1646158209764,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,9 +80,9 @@\n     const count = handleCount() || 1;\n     const getLabelCategories = (category) => {\n         setCategory(category);\n     }\n-\n+console.log(categoryObj);\n     return (  \n             <Row>\n                 <Col className=\"left_product\"><ProductFilter getCategory={getLabelCategories}  fillter={fillter} handleFilterChange={handleFilterChange}/></Col>\n                 <Col className=\"right_product\">\n"
                },
                {
                    "date": 1646158271366,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,16 +80,15 @@\n     const count = handleCount() || 1;\n     const getLabelCategories = (category) => {\n         setCategory(category);\n     }\n-console.log(categoryObj);\n     return (  \n             <Row>\n                 <Col className=\"left_product\"><ProductFilter getCategory={getLabelCategories}  fillter={fillter} handleFilterChange={handleFilterChange}/></Col>\n                 <Col className=\"right_product\">\n                     <h3 style={{paddingLeft:'20px'}}>Sắp Xếp Theo</h3>\n                     <Tabs currentSort={fillter._sort} onChange={handleSortChange}/>\n-                    <FilterViewer filters={fillter} onChange={setFillter}/>\n+                    <FilterViewer category={categoryObj} filters={fillter} onChange={setFillter}/>\n                     {loading ?  <ProductSkeletonList /> : <ProductList productsList={productsList}  />} \n                     <Pagination count={count} page={pagination.page} onPageChange={handlePageChange}\n                     />\n                 </Col>\n"
                },
                {
                    "date": 1646159307121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,12 @@\n     const [loading, setLoading] = useState(true);\n     const navagation =  useNavigate()\n     const location = useLocation();\n     const queryParams = queryString.parse(location.search);\n-    const [categoryObj,setCategory] = useState({});\n+    const [categoryObj,setCategory] = useState({\n+        id: queryParams['category.id'] || 1,\n+        name: '',\n+    });\n     const [fillter, setFillter] = useState(() =>({\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n"
                },
                {
                    "date": 1646159327799,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,12 +17,9 @@\n     const [loading, setLoading] = useState(true);\n     const navagation =  useNavigate()\n     const location = useLocation();\n     const queryParams = queryString.parse(location.search);\n-    const [categoryObj,setCategory] = useState({\n-        id: queryParams['category.id'] || 1,\n-        name: '',\n-    });\n+    const [categoryObj,setCategory] = useState({});\n     const [fillter, setFillter] = useState(() =>({\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n"
                },
                {
                    "date": 1646193499978,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,8 +80,9 @@\n     const count = handleCount() || 1;\n     const getLabelCategories = (category) => {\n         setCategory(category);\n     }\n+    console.log(categoryObj);\n     return (  \n             <Row>\n                 <Col className=\"left_product\"><ProductFilter getCategory={getLabelCategories}  fillter={fillter} handleFilterChange={handleFilterChange}/></Col>\n                 <Col className=\"right_product\">\n"
                },
                {
                    "date": 1646194170765,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,9 +80,9 @@\n     const count = handleCount() || 1;\n     const getLabelCategories = (category) => {\n         setCategory(category);\n     }\n-    console.log(categoryObj);\n+\n     return (  \n             <Row>\n                 <Col className=\"left_product\"><ProductFilter getCategory={getLabelCategories}  fillter={fillter} handleFilterChange={handleFilterChange}/></Col>\n                 <Col className=\"right_product\">\n"
                },
                {
                    "date": 1646194661605,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,13 @@\n     const [loading, setLoading] = useState(true);\n     const navagation =  useNavigate()\n     const location = useLocation();\n     const queryParams = queryString.parse(location.search);\n-    const [categoryObj,setCategory] = useState({});\n+\n+    const [categoryObj,setCategory] = useState(() => (\n+        []\n+    )[queryParams['category.id']]);\n+\n     const [fillter, setFillter] = useState(() =>({\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n"
                },
                {
                    "date": 1646194679234,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,12 @@\n     const location = useLocation();\n     const queryParams = queryString.parse(location.search);\n \n     const [categoryObj,setCategory] = useState(() => (\n-        []\n+        [{\n+            id: 1,\n+            name: 'Điện Thoại',\n+        }]\n     )[queryParams['category.id']]);\n \n     const [fillter, setFillter] = useState(() =>({\n         ...queryParams,\n"
                },
                {
                    "date": 1646194804767,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,12 +19,14 @@\n     const location = useLocation();\n     const queryParams = queryString.parse(location.search);\n \n     const [categoryObj,setCategory] = useState(() => (\n-        [{\n-            id: 1,\n-            name: 'Điện Thoại',\n-        }]\n+        [\n+            { \n+                id: Number.parseInt(queryParams['category.id']) || 1,\n+                name: 'Tất cả'\n+            }\n+        ]\n     )[queryParams['category.id']]);\n \n     const [fillter, setFillter] = useState(() =>({\n         ...queryParams,\n"
                },
                {
                    "date": 1646194839692,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n                 id: Number.parseInt(queryParams['category.id']) || 1,\n                 name: 'Tất cả'\n             }\n         ]\n-    )[queryParams['category.id']]);\n+    ));\n \n     const [fillter, setFillter] = useState(() =>({\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n"
                },
                {
                    "date": 1646194984057,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,17 +18,8 @@\n     const navagation =  useNavigate()\n     const location = useLocation();\n     const queryParams = queryString.parse(location.search);\n \n-    const [categoryObj,setCategory] = useState(() => (\n-        [\n-            { \n-                id: Number.parseInt(queryParams['category.id']) || 1,\n-                name: 'Tất cả'\n-            }\n-        ]\n-    ));\n-\n     const [fillter, setFillter] = useState(() =>({\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n         _limit: Number.parseInt(queryParams._limit) || 16,\n@@ -86,8 +77,16 @@\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n     }\n     const count = handleCount() || 1;\n+    const [categoryObj,setCategory] = useState(() => (\n+        [\n+            { \n+                id: Number.parseInt(queryParams['category.id']) || 1,\n+                name: categoryObj[Number.parseInt(queryParams['category.id']) - 1 || 0].name,\n+            }\n+        ]\n+    ));\n     const getLabelCategories = (category) => {\n         setCategory(category);\n     }\n \n"
                },
                {
                    "date": 1646194989996,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,9 @@\n     const [categoryObj,setCategory] = useState(() => (\n         [\n             { \n                 id: Number.parseInt(queryParams['category.id']) || 1,\n-                name: categoryObj[Number.parseInt(queryParams['category.id']) - 1 || 0].name,\n+                name: categoryObj[Number.parseInt(queryParams['category.id']) - 1 || 0],\n             }\n         ]\n     ));\n     const getLabelCategories = (category) => {\n"
                },
                {
                    "date": 1646194996271,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,8 @@\n     const [categoryObj,setCategory] = useState(() => (\n         [\n             { \n                 id: Number.parseInt(queryParams['category.id']) || 1,\n-                name: categoryObj[Number.parseInt(queryParams['category.id']) - 1 || 0],\n             }\n         ]\n     ));\n     const getLabelCategories = (category) => {\n"
                },
                {
                    "date": 1646195266482,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,16 +77,11 @@\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n     }\n     const count = handleCount() || 1;\n-    const [categoryObj,setCategory] = useState(() => (\n-        [\n-            { \n-                id: Number.parseInt(queryParams['category.id']) || 1,\n-            }\n-        ]\n-    ));\n+    const [categoryObj,setCategory] = useState(JSON.parse(localStorage.getItem('category') || []));\n     const getLabelCategories = (category) => {\n+        localStorage.setItem('category', JSON.stringify(category));\n         setCategory(category);\n     }\n \n     return (  \n"
                },
                {
                    "date": 1646195401766,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,10 +79,10 @@\n     }\n     const count = handleCount() || 1;\n     const [categoryObj,setCategory] = useState(JSON.parse(localStorage.getItem('category') || []));\n     const getLabelCategories = (category) => {\n-        localStorage.setItem('category', JSON.stringify(category));\n-        setCategory(category);\n+        \n+        setCategory(localStorage.setItem('category', JSON.stringify(category)));\n     }\n \n     return (  \n             <Row>\n"
                },
                {
                    "date": 1646195421986,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,12 +77,12 @@\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n     }\n     const count = handleCount() || 1;\n-    const [categoryObj,setCategory] = useState(JSON.parse(localStorage.getItem('category') || []));\n+    const [categoryObj,setCategory] = useState();\n     const getLabelCategories = (category) => {\n-        \n-        setCategory(localStorage.setItem('category', JSON.stringify(category)));\n+        localStorage.setItem('category', JSON.stringify(category));\n+        setCategory(category);\n     }\n \n     return (  \n             <Row>\n"
                },
                {
                    "date": 1646195551226,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,8 +76,10 @@\n         if(pagination.total && pagination.limit){\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n     }\n+    const localStorage = JSON.parse(localStorage.getItem('category'));\n+    console.log(localStorage);\n     const count = handleCount() || 1;\n     const [categoryObj,setCategory] = useState();\n     const getLabelCategories = (category) => {\n         localStorage.setItem('category', JSON.stringify(category));\n"
                },
                {
                    "date": 1646195567012,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n         if(pagination.total && pagination.limit){\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n     }\n-    const localStorage = JSON.parse(localStorage.getItem('category'));\n+    const localStorage = JSON.parse(localStorage.getItem('category')) || [];\n     console.log(localStorage);\n     const count = handleCount() || 1;\n     const [categoryObj,setCategory] = useState();\n     const getLabelCategories = (category) => {\n"
                },
                {
                    "date": 1646195587830,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,10 +76,10 @@\n         if(pagination.total && pagination.limit){\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n     }\n-    const localStorage = JSON.parse(localStorage.getItem('category')) || [];\n-    console.log(localStorage);\n+    const loca = JSON.parse(localStorage.getItem('category')) || [];\n+    console.log(loca);\n     const count = handleCount() || 1;\n     const [categoryObj,setCategory] = useState();\n     const getLabelCategories = (category) => {\n         localStorage.setItem('category', JSON.stringify(category));\n"
                },
                {
                    "date": 1646195605801,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,9 +77,9 @@\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n     }\n     const loca = JSON.parse(localStorage.getItem('category')) || [];\n-    console.log(loca);\n+    console.log('loca',loca);\n     const count = handleCount() || 1;\n     const [categoryObj,setCategory] = useState();\n     const getLabelCategories = (category) => {\n         localStorage.setItem('category', JSON.stringify(category));\n"
                },
                {
                    "date": 1646195648362,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,12 +76,11 @@\n         if(pagination.total && pagination.limit){\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n     }\n-    const loca = JSON.parse(localStorage.getItem('category')) || [];\n-    console.log('loca',loca);\n+    const local_storage = JSON.parse(localStorage.getItem('category')) || [];\n     const count = handleCount() || 1;\n-    const [categoryObj,setCategory] = useState();\n+    const [categoryObj,setCategory] = useState(local_storage);\n     const getLabelCategories = (category) => {\n         localStorage.setItem('category', JSON.stringify(category));\n         setCategory(category);\n     }\n"
                },
                {
                    "date": 1646197037406,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,9 +47,9 @@\n     },[fillter]);\n \n     useEffect(() => {\n         navagation(`/products?${queryString.stringify(fillter)}`);\n-    }, [fillter]);\n+    }, [fillter,queryParams]);\n \n     const handlePageChange = (page) => {\n             window.scrollTo({\n                 top: 0,\n"
                },
                {
                    "date": 1646197045548,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -47,9 +47,9 @@\n     },[fillter]);\n \n     useEffect(() => {\n         navagation(`/products?${queryString.stringify(fillter)}`);\n-    }, [fillter,queryParams]);\n+    }, [fillter]);\n \n     const handlePageChange = (page) => {\n             window.scrollTo({\n                 top: 0,\n"
                },
                {
                    "date": 1646197220962,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import { Col, Row } from \"reactstrap\";\n-import {useEffect, useState} from 'react';\n+import {useEffect, useMemo, useState} from 'react';\n import queryString from 'query-string';\n import products from '../../../API/products';\n import ProductList from '../compennents/ProductList/ProductList';\n import ProductSkeletonList from \"../compennents/ProductSkeletonLists/ProductSkeletonList\";\n@@ -16,9 +16,11 @@\n     const [productsList, setProductsList] = useState([]);\n     const [loading, setLoading] = useState(true);\n     const navagation =  useNavigate()\n     const location = useLocation();\n-    const queryParams = queryString.parse(location.search);\n+    const queryParams = useMemo(()=>{\n+        return queryString.parse(location.search);\n+    },[location.search]) \n \n     const [fillter, setFillter] = useState(() =>({\n         ...queryParams,\n         _page:Number.parseInt(queryParams._page) || 1,\n"
                },
                {
                    "date": 1646198143220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,18 +17,27 @@\n     const [loading, setLoading] = useState(true);\n     const navagation =  useNavigate()\n     const location = useLocation();\n     const queryParams = useMemo(()=>{\n-        return queryString.parse(location.search);\n+        const params = queryString.parse(location.search);\n+        return {\n+            ...params,\n+            _page:Number.parseInt(queryParams._page) || 1,\n+            _limit: Number.parseInt(queryParams._limit) || 16,\n+            _sort:queryParams._sort || \"salePrice:ASC\",\n+            isPromotion : params.isPromotion === \"true\" ? true : false,\n+            isFreeShip : params.isFreeShip === \"true\" ? true : false,\n+        }\n+\n     },[location.search]) \n \n-    const [fillter, setFillter] = useState(() =>({\n-        ...queryParams,\n-        _page:Number.parseInt(queryParams._page) || 1,\n-        _limit: Number.parseInt(queryParams._limit) || 16,\n-        _sort:queryParams._sort || \"salePrice:ASC\",\n+    // const [fillter, setFillter] = useState(() =>({\n+    //     ...queryParams,\n+    //     _page:Number.parseInt(queryParams._page) || 1,\n+    //     _limit: Number.parseInt(queryParams._limit) || 16,\n+    //     _sort:queryParams._sort || \"salePrice:ASC\",\n         \n-    }));\n+    // }));\n     const [pagination, setPagination] = useState({\n         page:1,\n         limit:16,\n         total:0,\n@@ -37,43 +46,48 @@\n \n     useEffect(() => {\n         (async () => {\n             try{\n-                const response = await products.getAll(fillter);\n+                const response = await products.getAll(queryParams);\n                 setProductsList(response.data);\n                 setPagination(response.pagination);\n             }catch(error){\n                 console.log('Fail to get products', error);\n             }\n             setLoading(false);\n         })();\n-    },[fillter]);\n+    },[queryParams]);\n \n-    useEffect(() => {\n-        navagation(`/products?${queryString.stringify(fillter)}`);\n-    }, [fillter]);\n+    // useEffect(() => {\n+    // }, [fillter]);\n \n     const handlePageChange = (page) => {\n             window.scrollTo({\n                 top: 0,\n                 left: 0,\n                 behavior: \"smooth\"\n               });\n-        setFillter((prevState) => {\n-            return {...prevState, _page: page};\n-        });\n+        const fillter = {\n+            ...queryParams,\n+            _page:page,\n+        }\n+        navagation(`/products?${queryString.stringify(fillter)}`);\n     }\n \n     const handleSortChange = (newValue) => {\n-        setFillter((prevState) => {\n-            return {...prevState, _sort: newValue};\n-        });\n+        const fillter = {\n+            ...queryParams,\n+            _sort:newValue,\n+        }\n+        navagation(`/products?${queryString.stringify(fillter)}`);\n     }\n     \n     const handleFilterChange = (newFillter) => {\n-        setFillter((prevState) => {\n-            return {...prevState, ...newFillter};\n-        });\n+        const fillter = {\n+            ...queryParams,\n+            ...newFillter,\n+        }\n+        navagation(`/products?${queryString.stringify(fillter)}`);\n     }\n     const handleCount = () => {\n         if(pagination.total && pagination.limit){\n             return Math.ceil(pagination.total/pagination.limit);\n@@ -88,13 +102,13 @@\n     }\n \n     return (  \n             <Row>\n-                <Col className=\"left_product\"><ProductFilter getCategory={getLabelCategories}  fillter={fillter} handleFilterChange={handleFilterChange}/></Col>\n+                <Col className=\"left_product\"><ProductFilter getCategory={getLabelCategories}  fillter={queryParams} handleFilterChange={handleFilterChange}/></Col>\n                 <Col className=\"right_product\">\n                     <h3 style={{paddingLeft:'20px'}}>Sắp Xếp Theo</h3>\n-                    <Tabs currentSort={fillter._sort} onChange={handleSortChange}/>\n-                    <FilterViewer category={categoryObj} filters={fillter} onChange={setFillter}/>\n+                    <Tabs currentSort={queryParams._sort} onChange={handleSortChange}/>\n+                    <FilterViewer category={categoryObj} filters={queryParams} onChange={queryParams}/>\n                     {loading ?  <ProductSkeletonList /> : <ProductList productsList={productsList}  />} \n                     <Pagination count={count} page={pagination.page} onPageChange={handlePageChange}\n                     />\n                 </Col>\n"
                },
                {
                    "date": 1646198558494,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,16 +99,18 @@\n     const getLabelCategories = (category) => {\n         localStorage.setItem('category', JSON.stringify(category));\n         setCategory(category);\n     }\n-\n+    const setnewFillter = (newFillter) => {\n+        navagation(`/products?${queryString.stringify(newFillter)}`);\n+    }\n     return (  \n             <Row>\n                 <Col className=\"left_product\"><ProductFilter getCategory={getLabelCategories}  fillter={queryParams} handleFilterChange={handleFilterChange}/></Col>\n                 <Col className=\"right_product\">\n                     <h3 style={{paddingLeft:'20px'}}>Sắp Xếp Theo</h3>\n                     <Tabs currentSort={queryParams._sort} onChange={handleSortChange}/>\n-                    <FilterViewer category={categoryObj} filters={queryParams} onChange={queryParams}/>\n+                    <FilterViewer category={categoryObj} filters={queryParams} onChange={setnewFillter}/>\n                     {loading ?  <ProductSkeletonList /> : <ProductList productsList={productsList}  />} \n                     <Pagination count={count} page={pagination.page} onPageChange={handlePageChange}\n                     />\n                 </Col>\n"
                },
                {
                    "date": 1646198666170,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,8 +28,9 @@\n             isFreeShip : params.isFreeShip === \"true\" ? true : false,\n         }\n \n     },[location.search]) \n+    console.log('queryParams',queryParams)\n \n     // const [fillter, setFillter] = useState(() =>({\n     //     ...queryParams,\n     //     _page:Number.parseInt(queryParams._page) || 1,\n"
                },
                {
                    "date": 1646198758429,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,18 +18,20 @@\n     const navagation =  useNavigate()\n     const location = useLocation();\n     const queryParams = useMemo(()=>{\n         const params = queryString.parse(location.search);\n-        return {\n-            ...params,\n-            _page:Number.parseInt(queryParams._page) || 1,\n-            _limit: Number.parseInt(queryParams._limit) || 16,\n-            _sort:queryParams._sort || \"salePrice:ASC\",\n-            isPromotion : params.isPromotion === \"true\" ? true : false,\n-            isFreeShip : params.isFreeShip === \"true\" ? true : false,\n-        }\n+        return params;\n+        // return {\n+        //     ...params,\n+        //     _page:Number.parseInt(queryParams._page) || 1,\n+        //     _limit: Number.parseInt(queryParams._limit) || 16,\n+        //     _sort:queryParams._sort || \"salePrice:ASC\",\n+        //     isPromotion : params.isPromotion === \"true\" ? true : false,\n+        //     isFreeShip : params.isFreeShip === \"true\" ? true : false,\n+        // }\n \n     },[location.search]) \n+\n     console.log('queryParams',queryParams)\n \n     // const [fillter, setFillter] = useState(() =>({\n     //     ...queryParams,\n"
                },
                {
                    "date": 1646198825197,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,8 +18,9 @@\n     const navagation =  useNavigate()\n     const location = useLocation();\n     const queryParams = useMemo(()=>{\n         const params = queryString.parse(location.search);\n+        console.log('params', params);\n         return params;\n         // return {\n         //     ...params,\n         //     _page:Number.parseInt(queryParams._page) || 1,\n"
                },
                {
                    "date": 1646198856269,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,8 @@\n         // }\n \n     },[location.search]) \n \n-    console.log('queryParams',queryParams)\n \n     // const [fillter, setFillter] = useState(() =>({\n     //     ...queryParams,\n     //     _page:Number.parseInt(queryParams._page) || 1,\n"
                },
                {
                    "date": 1646198951033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,17 +19,17 @@\n     const location = useLocation();\n     const queryParams = useMemo(()=>{\n         const params = queryString.parse(location.search);\n         console.log('params', params);\n-        return params;\n-        // return {\n-        //     ...params,\n-        //     _page:Number.parseInt(queryParams._page) || 1,\n-        //     _limit: Number.parseInt(queryParams._limit) || 16,\n-        //     _sort:queryParams._sort || \"salePrice:ASC\",\n-        //     isPromotion : params.isPromotion === \"true\" ? true : false,\n-        //     isFreeShip : params.isFreeShip === \"true\" ? true : false,\n-        // }\n+        // return params;\n+        return {\n+            ...params,\n+            _page:Number.parseInt(queryParams._page) || 1,\n+            _limit: Number.parseInt(queryParams._limit) || 16,\n+            _sort:queryParams._sort || \"salePrice:ASC\",\n+            isPromotion : params.isPromotion === \"true\" ,\n+            isFreeShip : params.isFreeShip === \"true\" \n+        }\n \n     },[location.search]) \n \n \n"
                },
                {
                    "date": 1646198965956,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,10 +25,10 @@\n             ...params,\n             _page:Number.parseInt(queryParams._page) || 1,\n             _limit: Number.parseInt(queryParams._limit) || 16,\n             _sort:queryParams._sort || \"salePrice:ASC\",\n-            isPromotion : params.isPromotion === \"true\" ,\n-            isFreeShip : params.isFreeShip === \"true\" \n+            // isPromotion : params.isPromotion === \"true\" ,\n+            // isFreeShip : params.isFreeShip === \"true\" \n         }\n \n     },[location.search]) \n \n"
                },
                {
                    "date": 1646198972354,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n         return {\n             ...params,\n             _page:Number.parseInt(queryParams._page) || 1,\n             _limit: Number.parseInt(queryParams._limit) || 16,\n-            _sort:queryParams._sort || \"salePrice:ASC\",\n+            // _sort:queryParams._sort || \"salePrice:ASC\",\n             // isPromotion : params.isPromotion === \"true\" ,\n             // isFreeShip : params.isFreeShip === \"true\" \n         }\n \n"
                },
                {
                    "date": 1646198979204,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n         // return params;\n         return {\n             ...params,\n             _page:Number.parseInt(queryParams._page) || 1,\n-            _limit: Number.parseInt(queryParams._limit) || 16,\n+            // _limit: Number.parseInt(queryParams._limit) || 16,\n             // _sort:queryParams._sort || \"salePrice:ASC\",\n             // isPromotion : params.isPromotion === \"true\" ,\n             // isFreeShip : params.isFreeShip === \"true\" \n         }\n"
                },
                {
                    "date": 1646199066263,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n         console.log('params', params);\n         // return params;\n         return {\n             ...params,\n-            _page:Number.parseInt(queryParams._page) || 1,\n+            _page: parseInt(queryParams._page) || 1,\n             // _limit: Number.parseInt(queryParams._limit) || 16,\n             // _sort:queryParams._sort || \"salePrice:ASC\",\n             // isPromotion : params.isPromotion === \"true\" ,\n             // isFreeShip : params.isFreeShip === \"true\" \n"
                },
                {
                    "date": 1646199076731,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,13 +22,8 @@\n         console.log('params', params);\n         // return params;\n         return {\n             ...params,\n-            _page: parseInt(queryParams._page) || 1,\n-            // _limit: Number.parseInt(queryParams._limit) || 16,\n-            // _sort:queryParams._sort || \"salePrice:ASC\",\n-            // isPromotion : params.isPromotion === \"true\" ,\n-            // isFreeShip : params.isFreeShip === \"true\" \n         }\n \n     },[location.search]) \n \n"
                },
                {
                    "date": 1646199083299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,12 +19,9 @@\n     const location = useLocation();\n     const queryParams = useMemo(()=>{\n         const params = queryString.parse(location.search);\n         console.log('params', params);\n-        // return params;\n-        return {\n-            ...params,\n-        }\n+        return params;\n \n     },[location.search]) \n \n \n"
                },
                {
                    "date": 1646199095231,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,15 +24,9 @@\n \n     },[location.search]) \n \n \n-    // const [fillter, setFillter] = useState(() =>({\n-    //     ...queryParams,\n-    //     _page:Number.parseInt(queryParams._page) || 1,\n-    //     _limit: Number.parseInt(queryParams._limit) || 16,\n-    //     _sort:queryParams._sort || \"salePrice:ASC\",\n-        \n-    // }));\n+\n     const [pagination, setPagination] = useState({\n         page:1,\n         limit:16,\n         total:0,\n@@ -51,10 +45,8 @@\n             setLoading(false);\n         })();\n     },[queryParams]);\n \n-    // useEffect(() => {\n-    // }, [fillter]);\n \n     const handlePageChange = (page) => {\n             window.scrollTo({\n                 top: 0,\n"
                },
                {
                    "date": 1646199151040,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,11 +18,9 @@\n     const navagation =  useNavigate()\n     const location = useLocation();\n     const queryParams = useMemo(()=>{\n         const params = queryString.parse(location.search);\n-        console.log('params', params);\n         return params;\n-\n     },[location.search]) \n \n \n \n"
                },
                {
                    "date": 1646199181821,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,10 +21,8 @@\n         const params = queryString.parse(location.search);\n         return params;\n     },[location.search]) \n \n-\n-\n     const [pagination, setPagination] = useState({\n         page:1,\n         limit:16,\n         total:0,\n@@ -77,18 +75,23 @@\n         if(pagination.total && pagination.limit){\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n     }\n+\n+    const setnewFillter = (newFillter) => {\n+        navagation(`/products?${queryString.stringify(newFillter)}`);\n+    }\n+\n+    \n     const local_storage = JSON.parse(localStorage.getItem('category')) || [];\n     const count = handleCount() || 1;\n     const [categoryObj,setCategory] = useState(local_storage);\n     const getLabelCategories = (category) => {\n         localStorage.setItem('category', JSON.stringify(category));\n         setCategory(category);\n     }\n-    const setnewFillter = (newFillter) => {\n-        navagation(`/products?${queryString.stringify(newFillter)}`);\n-    }\n+    \n+\n     return (  \n             <Row>\n                 <Col className=\"left_product\"><ProductFilter getCategory={getLabelCategories}  fillter={queryParams} handleFilterChange={handleFilterChange}/></Col>\n                 <Col className=\"right_product\">\n"
                },
                {
                    "date": 1646223402287,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,8 +18,9 @@\n     const navagation =  useNavigate()\n     const location = useLocation();\n     const queryParams = useMemo(()=>{\n         const params = queryString.parse(location.search);\n+        console.log(params);\n         return params;\n     },[location.search]) \n \n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646223533433,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n     const location = useLocation();\n     const queryParams = useMemo(()=>{\n         const params = queryString.parse(location.search);\n         console.log(params);\n-        return params;\n+        return {...params,_sort:params._sort || 'salePrice:ASC'};\n     },[location.search]) \n \n     const [pagination, setPagination] = useState({\n         page:1,\n"
                },
                {
                    "date": 1646234293190,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n         if(pagination.total && pagination.limit){\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n     }\n-\n+    console.log(pagination);\n     const setnewFillter = (newFillter) => {\n         navagation(`/products?${queryString.stringify(newFillter)}`);\n     }\n \n"
                },
                {
                    "date": 1646234391758,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,8 +33,9 @@\n     useEffect(() => {\n         (async () => {\n             try{\n                 const response = await products.getAll(queryParams);\n+                console.log(response);\n                 setProductsList(response.data);\n                 setPagination(response.pagination);\n             }catch(error){\n                 console.log('Fail to get products', error);\n"
                },
                {
                    "date": 1646234718071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,14 @@\n     const location = useLocation();\n     const queryParams = useMemo(()=>{\n         const params = queryString.parse(location.search);\n         console.log(params);\n-        return {...params,_sort:params._sort || 'salePrice:ASC'};\n+        return {\n+            ...params,\n+            _sort:params._sort || 'salePrice:ASC',\n+            _page:params._page || 1,\n+            _limit:params._limit || 16\n+        };\n     },[location.search]) \n \n     const [pagination, setPagination] = useState({\n         page:1,\n"
                },
                {
                    "date": 1646234840235,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,10 +22,10 @@\n         console.log(params);\n         return {\n             ...params,\n             _sort:params._sort || 'salePrice:ASC',\n-            _page:params._page || 1,\n-            _limit:params._limit || 16\n+            _page:parseInt(params._page) || 1,\n+            _limit:parseInt(params._limit) || 16\n         };\n     },[location.search]) \n \n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646234886661,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,9 +82,8 @@\n         if(pagination.total && pagination.limit){\n             return Math.ceil(pagination.total/pagination.limit);\n         }\n     }\n-    console.log(pagination);\n     const setnewFillter = (newFillter) => {\n         navagation(`/products?${queryString.stringify(newFillter)}`);\n     }\n \n"
                },
                {
                    "date": 1646234980506,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,10 @@\n         return {\n             ...params,\n             _sort:params._sort || 'salePrice:ASC',\n             _page:parseInt(params._page) || 1,\n-            _limit:parseInt(params._limit) || 16\n+            _limit:parseInt(params._limit) || 16,\n+            isPromotion:params.isPromotion === 'true',\n         };\n     },[location.search]) \n \n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646235018499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,8 +25,9 @@\n             _sort:params._sort || 'salePrice:ASC',\n             _page:parseInt(params._page) || 1,\n             _limit:parseInt(params._limit) || 16,\n             isPromotion:params.isPromotion === 'true',\n+            isFreeShip:params.isFreeShip === 'true',\n         };\n     },[location.search]) \n \n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646235618871,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,8 +26,9 @@\n             _page:parseInt(params._page) || 1,\n             _limit:parseInt(params._limit) || 16,\n             isPromotion:params.isPromotion === 'true',\n             isFreeShip:params.isFreeShip === 'true',\n+            total:parseInt(params.total) || 0,\n         };\n     },[location.search]) \n \n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646235634228,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,10 +25,9 @@\n             _sort:params._sort || 'salePrice:ASC',\n             _page:parseInt(params._page) || 1,\n             _limit:parseInt(params._limit) || 16,\n             isPromotion:params.isPromotion === 'true',\n-            isFreeShip:params.isFreeShip === 'true',\n-            total:parseInt(params.total) || 0,\n+            isFreeShip:params.isFreeShip === 'true'\n         };\n     },[location.search]) \n \n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646235758472,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,11 +23,11 @@\n         return {\n             ...params,\n             _sort:params._sort || 'salePrice:ASC',\n             _page:parseInt(params._page) || 1,\n-            _limit:parseInt(params._limit) || 16,\n-            isPromotion:params.isPromotion === 'true',\n-            isFreeShip:params.isFreeShip === 'true'\n+            _limit:parseInt(params._limit) || 16\n+            // isPromotion:params.isPromotion === 'true',\n+            // isFreeShip:params.isFreeShip === 'true'\n         };\n     },[location.search]) \n \n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646235769188,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,11 +21,11 @@\n         const params = queryString.parse(location.search);\n         console.log(params);\n         return {\n             ...params,\n-            _sort:params._sort || 'salePrice:ASC',\n-            _page:parseInt(params._page) || 1,\n-            _limit:parseInt(params._limit) || 16\n+            // _sort:params._sort || 'salePrice:ASC',\n+            // _page:parseInt(params._page) || 1,\n+            // _limit:parseInt(params._limit) || 16\n             // isPromotion:params.isPromotion === 'true',\n             // isFreeShip:params.isFreeShip === 'true'\n         };\n     },[location.search]) \n"
                },
                {
                    "date": 1646235788857,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,13 +21,13 @@\n         const params = queryString.parse(location.search);\n         console.log(params);\n         return {\n             ...params,\n-            // _sort:params._sort || 'salePrice:ASC',\n-            // _page:parseInt(params._page) || 1,\n-            // _limit:parseInt(params._limit) || 16\n-            // isPromotion:params.isPromotion === 'true',\n-            // isFreeShip:params.isFreeShip === 'true'\n+            _sort:params._sort || 'salePrice:ASC',\n+            _page:parseInt(params._page) || 1,\n+            _limit:parseInt(params._limit) || 16,\n+            isPromotion:params.isPromotion === 'true',\n+            isFreeShip:params.isFreeShip === 'true'\n         };\n     },[location.search]) \n \n     const [pagination, setPagination] = useState({\n"
                },
                {
                    "date": 1646235832939,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,9 +40,8 @@\n     useEffect(() => {\n         (async () => {\n             try{\n                 const response = await products.getAll(queryParams);\n-                console.log(response);\n                 setProductsList(response.data);\n                 setPagination(response.pagination);\n             }catch(error){\n                 console.log('Fail to get products', error);\n"
                }
            ],
            "date": 1645709333335,
            "name": "Commit-0",
            "content": "import { Col, Row } from \"reactstrap\";\nimport {useEffect, useRef, useState} from 'react';\nimport products from '../../../API/products';\nimport ProductList from '../compennents/ProductList/ProductList';\nimport ProductSkeletonList from \"../compennents/ProductSkeletonLists/ProductSkeletonList\";\nimport './ListPage.scss';\nimport Pagination from \"../compennents/Pagination/Pagination\";\nimport Tabss from \"../compennents/Tabs/Tabs\";\nimport Tabs from \"../compennents/Tabs/Tabs\";\nimport ProductFilter from \"../compennents/ProductFilter/ProductFilter\";\n\nconst ListPage = () => {\n    const [productsList, setProductsList] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [fillter, setFillter] = useState({_page:1, _limit:20, _sort:\"salePrice:ASC\"});\n    const [pagination, setPagination] = useState({\n        page:1,\n        limit:20,\n        total:0,\n    });\n    useEffect(() => {\n        (async () => {\n            try{\n                const response = await products.getAll(fillter);\n                setProductsList(response.data);\n                setPagination(response.pagination);\n            }catch(error){\n                console.log('Fail to get products', error);\n            }\n            setLoading(false);\n        })();\n    },[fillter]);\n\n    const handlePageChange = (page) => {\n            window.scrollTo({\n                top: 0,\n                left: 0,\n                behavior: \"smooth\"\n              });\n        setFillter((prevState) => {\n            return {...prevState, _page: page};\n        });\n    }\n\n    const handleSortChange = (newValue) => {\n        setFillter((prevState) => {\n            return {...prevState, _sort: newValue};\n        });\n    }\n    \n    const handleCount = () => {\n        if(pagination.total && pagination.limit){\n            return Math.ceil(pagination.total/pagination.limit);\n        }\n    }\n    const count = handleCount() || 1;\n\n    return (  \n            <Row>\n                <Col className=\"left_product\"><ProductFilter/></Col>\n                <Col className=\"right_product\">\n                    <h3 style={{paddingLeft:'20px'}}>Sắp Xếp Theo</h3>\n                    <Tabs currentSort={fillter._sort} onChange={handleSortChange}/>\n                    {loading ?  <ProductSkeletonList /> : <ProductList productsList={productsList}  />} \n                    <Pagination count={count} page={pagination.page} onPageChange={handlePageChange}\n                    />\n                </Col>\n            </Row>           \n    );\n}\n \nexport default ListPage;"
        }
    ]
}